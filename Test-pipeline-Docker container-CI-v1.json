{"options":[{"enabled":true,"definition":{"id":"5d58cc01-7c75-450c-be18-a388ddb129ec"},"inputs":{"branchFilters":"[\"+refs/heads/*\"]","additionalFields":"{}"}},{"enabled":false,"definition":{"id":"a9db38f9-9fdc-478c-b0f9-464221e58316"},"inputs":{"workItemType":"Task","assignToRequestor":"true","additionalFields":"{}"}}],"triggers":[{"branchFilters":["+refs/heads/main"],"pathFilters":[],"batchChanges":false,"maxConcurrentBuildsPerBranch":1,"pollingInterval":0,"triggerType":2},{"branchFilters":["+refs/heads/main"],"forks":{"enabled":true,"allowSecrets":false,"allowFullAccessToken":false},"pathFilters":[],"requireCommentsForNonTeamMembersOnly":false,"requireCommentsForNonTeamMemberAndNonContributors":false,"isCommentRequiredForPullRequest":false,"pipelineTriggerSettings":{"forkProtectionEnabled":true,"buildsEnabledForForks":false,"enforceJobAuthScopeForForks":false,"enforceNoAccessToSecretsFromForks":false,"isCommentRequiredForPullRequest":false,"requireCommentsForNonTeamMembersOnly":false,"requireCommentsForNonTeamMemberAndNonContributors":false},"triggerType":64}],"variables":{"system.debug":{"value":"false","allowOverride":true}},"properties":{},"tags":[],"_links":{"self":{"href":"https://dev.azure.com/telec/2afbed7f-c178-4a17-91b5-7869ff60530a/_apis/build/Definitions/5?revision=28"},"web":{"href":"https://dev.azure.com/telec/2afbed7f-c178-4a17-91b5-7869ff60530a/_build/definition?definitionId=5"},"editor":{"href":"https://dev.azure.com/telec/2afbed7f-c178-4a17-91b5-7869ff60530a/_build/designer?id=5&_a=edit-build-definition"},"badge":{"href":"https://dev.azure.com/telec/2afbed7f-c178-4a17-91b5-7869ff60530a/_apis/build/status/5"}},"buildNumberFormat":"$(date:yyyyMMdd)$(rev:.r)","jobAuthorizationScope":2,"jobTimeoutInMinutes":60,"jobCancelTimeoutInMinutes":5,"process":{"phases":[{"steps":[{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Build an image","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"condition":"succeeded()","task":{"id":"e28912f1-0114-4464-802a-a3a35437fd16","versionSpec":"0.*","definitionType":"task"},"inputs":{"containerregistrytype":"Container Registry","dockerRegistryEndpoint":"139f9c5c-cd33-4df3-baf9-e41824683734","azureSubscriptionEndpoint":"","azureContainerRegistry":"","action":"Build an image","dockerFile":"**/Dockerfile","addBaseImageData":"true","buildArguments":"","defaultContext":"true","context":"","imageName":"$(Build.Repository.Name):$(Build.BuildId)","imageNamesPath":"","qualifyImageName":"true","additionalImageTags":"","includeSourceTags":"false","includeLatestTag":"$(Parameters.includeLatestTag)","imageDigestFile":"","containerName":"","ports":"","volumes":"","envVars":"","workDir":"","entrypoint":"","containerCommand":"","detached":"true","restartPolicy":"no","restartMaxRetries":"","customCommand":"","dockerHostEndpoint":"","enforceDockerNamingConvention":"true","cwd":"$(System.DefaultWorkingDirectory)","memory":""}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"Push an image","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"condition":"succeeded()","task":{"id":"e28912f1-0114-4464-802a-a3a35437fd16","versionSpec":"0.*","definitionType":"task"},"inputs":{"containerregistrytype":"Container Registry","dockerRegistryEndpoint":"139f9c5c-cd33-4df3-baf9-e41824683734","azureSubscriptionEndpoint":"","azureContainerRegistry":"","action":"Push an image","dockerFile":"**/Dockerfile","addBaseImageData":"true","buildArguments":"","defaultContext":"true","context":"","imageName":"$(Build.Repository.Name):$(Build.BuildId)","imageNamesPath":"","qualifyImageName":"true","additionalImageTags":"","includeSourceTags":"false","includeLatestTag":"true","imageDigestFile":"","containerName":"","ports":"","volumes":"","envVars":"","workDir":"","entrypoint":"","containerCommand":"","detached":"true","restartPolicy":"no","restartMaxRetries":"","customCommand":"","dockerHostEndpoint":"","enforceDockerNamingConvention":"true","cwd":"$(System.DefaultWorkingDirectory)","memory":""}}],"name":"Agent job 1","refName":"Job_1","condition":"succeeded()","target":{"queue":{"_links":{"self":{"href":"https://dev.azure.com/telec/_apis/build/Queues/19"}},"id":19,"url":"https://dev.azure.com/telec/_apis/build/Queues/19","pool":null},"executionOptions":{"type":0},"allowScriptsAuthAccessOption":false,"type":1},"jobAuthorizationScope":2},{"dependencies":[{"scope":"Job_1","event":"Completed"}],"steps":[{"environment":{},"enabled":true,"continueOnError":true,"alwaysRun":false,"displayName":"stop_running_container","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"condition":"succeeded()","task":{"id":"e28912f1-0114-4464-802a-a3a35437fd16","versionSpec":"2.*","definitionType":"task"},"inputs":{"containerRegistry":"139f9c5c-cd33-4df3-baf9-e41824683734","repository":"","command":"stop","Dockerfile":"**/Dockerfile","buildContext":"**","tags":"$(Build.BuildId)","arguments":"","addPipelineData":"true","addBaseImageData":"true","container":"$(Parameters.container)"}},{"environment":{},"enabled":true,"continueOnError":true,"alwaysRun":false,"displayName":"Command Line Script","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"condition":"succeeded()","task":{"id":"d9bafed4-0b18-4f58-968d-86655b4d2ce9","versionSpec":"2.*","definitionType":"task"},"inputs":{"script":"$(Parameters.script)","workingDirectory":"","failOnStderr":"false"}},{"environment":{},"enabled":true,"continueOnError":false,"alwaysRun":false,"displayName":"run","timeoutInMinutes":0,"retryCountOnTaskFailure":0,"condition":"succeeded()","task":{"id":"e28912f1-0114-4464-802a-a3a35437fd16","versionSpec":"2.*","definitionType":"task"},"inputs":{"containerRegistry":"$(Parameters.containerRegistry)","repository":"\"tedcwe/azweb\"","command":"run","Dockerfile":"**/Dockerfile","buildContext":"**","tags":"$(Build.BuildId)","arguments":"-dit -p 8080:80 --name hamada \"tedcwe/azweb\"","addPipelineData":"false","addBaseImageData":"false","container":"hamada"}}],"name":"Run","refName":"Job_2","condition":"succeeded()","target":{"queue":{"_links":{"self":{"href":"https://dev.azure.com/telec/_apis/build/Queues/19"}},"id":19,"url":"https://dev.azure.com/telec/_apis/build/Queues/19","pool":null},"executionOptions":{"type":0},"allowScriptsAuthAccessOption":false,"type":1},"jobAuthorizationScope":2}],"type":1},"repository":{"properties":{"apiUrl":"https://api.github.com/repos/tedcwe/azweb","branchesUrl":"https://api.github.com/repos/tedcwe/azweb/branches","cloneUrl":"https://github.com/tedcwe/azweb.git","connectedServiceId":"9c4ba75a-ed36-47f0-86dd-d2d1499e4ac5","defaultBranch":"main","fullName":"tedcwe/azweb","hasAdminPermissions":"True","isFork":"False","isPrivate":"False","lastUpdated":"06/19/2024 06:50:38","manageUrl":"https://github.com/tedcwe/azweb","nodeId":"R_kgDOMLKS7w","ownerId":"73184533","orgName":"tedcwe","refsUrl":"https://api.github.com/repos/tedcwe/azweb/git/refs","safeRepository":"tedcwe/azweb","shortName":"azweb","ownerAvatarUrl":"https://avatars.githubusercontent.com/u/73184533?v=4","archived":"False","externalId":"817009391","ownerIsAUser":"True","checkoutNestedSubmodules":"false","cleanOptions":"0","fetchDepth":"0","gitLfsSupport":"false","reportBuildStatus":"true","skipSyncSource":"false","fetchTags":"false","labelSourcesFormat":"$(build.buildNumber)","labelSources":"0"},"id":"tedcwe/azweb","type":"GitHub","name":"tedcwe/azweb","url":"https://github.com/tedcwe/azweb.git","defaultBranch":"refs/heads/main","clean":"true","checkoutSubmodules":false},"processParameters":{"inputs":[{"aliases":[],"options":{},"properties":{},"name":"container","label":"Container","defaultValue":"hamada","type":"string","helpMarkDown":"Name of the container. For use with start and stop commands.","visibleRule":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"includeLatestTag","label":"Include Latest Tag","defaultValue":"true","type":"boolean","helpMarkDown":"Include the 'latest' tag when building or pushing the Docker image.","visibleRule":"","groupName":""},{"aliases":[],"options":{},"properties":{"resizable":"true","rows":"10","maxLength":"5000"},"name":"script","label":"Script","defaultValue":" docker container prune -f\n","required":true,"type":"multiLine","helpMarkDown":"","visibleRule":"","groupName":""},{"aliases":[],"options":{},"properties":{},"name":"containerRegistry","label":"Container registry","defaultValue":"139f9c5c-cd33-4df3-baf9-e41824683734","type":"connectedService:dockerregistry","helpMarkDown":"Select a Docker registry service connection. Required for commands that need to authenticate with a registry.","visibleRule":"","groupName":""}]},"quality":1,"authoredBy":{"displayName":"Osama Mustafa Elshazly","url":"https://spsprodcus1.vssps.visualstudio.com/A22588fb0-5c54-4693-a8ec-497608c3549f/_apis/Identities/52400c83-0548-63dc-a019-db010e5b5f16","_links":{"avatar":{"href":"https://dev.azure.com/telec/_apis/GraphProfile/MemberAvatars/aad.NTI0MDBjODMtMDU0OC03M2RjLWEwMTktZGIwMTBlNWI1ZjE2"}},"id":"52400c83-0548-63dc-a019-db010e5b5f16","uniqueName":"osama.elshazly@te.eg","imageUrl":"https://dev.azure.com/telec/_apis/GraphProfile/MemberAvatars/aad.NTI0MDBjODMtMDU0OC03M2RjLWEwMTktZGIwMTBlNWI1ZjE2","descriptor":"aad.NTI0MDBjODMtMDU0OC03M2RjLWEwMTktZGIwMTBlNWI1ZjE2"},"drafts":[],"queue":{"_links":{"self":{"href":"https://dev.azure.com/telec/_apis/build/Queues/19"}},"id":19,"name":"Default","url":"https://dev.azure.com/telec/_apis/build/Queues/19","pool":{"id":1,"name":"Default"}},"id":5,"name":"Test-pipeline-Docker container-CI-v1","url":"https://dev.azure.com/telec/2afbed7f-c178-4a17-91b5-7869ff60530a/_apis/build/Definitions/5?revision=28","uri":"vstfs:///Build/Definition/5","path":"\\","type":2,"queueStatus":0,"revision":28,"createdDate":"2024-06-19T07:33:50.030Z","project":{"id":"2afbed7f-c178-4a17-91b5-7869ff60530a","name":"Test-pipeline","description":"Generated by Azure DevOps Demo Generator","url":"https://dev.azure.com/telec/_apis/projects/2afbed7f-c178-4a17-91b5-7869ff60530a","state":1,"revision":29,"visibility":0,"lastUpdateTime":"2023-11-25T05:41:34.997Z"}}